# 9. グラフの保存と共有（画像・HTMLファイルとして出力）

Plotlyで作成したグラフやビジュアライゼーションを他の人と共有するためには、グラフを画像やHTMLファイルとして保存・出力する方法を理解することが重要です。この章では、具体的なコード例を交えて、グラフを保存・共有する方法を紹介します。

## 9.1 画像として保存

Plotlyのグラフを画像ファイルとして保存する場合、`write_image`関数を使用します。この関数では、PNG、JPEG、PDFなどの形式でグラフを保存することができます。以下は、PNG形式でグラフを保存する例です。

```python
import plotly.express as px

# サンプルデータとグラフの作成
df = px.data.iris()
fig = px.scatter(df, x='sepal_width', y='sepal_length', color='species')

# グラフをPNG形式で保存
fig.write_image("figure.png")
```

### 9.1.1 必要なライブラリのインストール

Plotlyの画像出力には、`kaleido`というライブラリが必要になります。以下のコマンドでインストールしてください。

```sh
pip install -U kaleido
```

## 9.2 HTMLファイルとして保存

グラフをHTMLファイルとして保存すると、インタラクティブな要素をそのまま保った状態でWeb上で共有することができます。以下は、HTML形式でグラフを保存する方法です。

```python
import plotly.express as px

# サンプルデータとグラフの作成
df = px.data.iris()
fig = px.scatter(df, x='sepal_width', y='sepal_length', color='species')

# グラフをHTML形式で保存
fig.write_html("figure.html")
```

## 9.3 グラフの共有

保存した画像やHTMLファイルは、以下の方法で共有することができます。

### 9.3.1 メールで送信

保存したファイルをメールの添付ファイルとして送信することで、簡単に人と共有することができます。HTMLファイルの場合、受け手がファイルを開けば、インタラクティブなグラフをその場で確認できます。

### 9.3.2 クラウドストレージサービス

Google DriveやDropboxといったクラウドストレージサービスを利用してファイルをアップロードし、共有リンクを生成することでスムーズに他者と共有することができます。

### 9.3.3 GitHub Pagesの利用

GitHub Pagesを利用すると、自分のリポジトリ上でHTMLファイルを公開し、静的サイトとして他の人にアクセスさせることができます。特に長期間共有したい場合に便利です。

このように、Plotlyのグラフはさまざまな形式で保存・共有することができ、相手に合わせた方法での共有が可能です。ぜひ、活用してみてください！